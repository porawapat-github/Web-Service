{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"add-room-page\"\n};\nconst _hoisted_2 = {\n  class: \"card add-room-form\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"input-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  class: \"input-group\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = {\n  class: \"input-group\"\n};\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = {\n  class: \"input-group\"\n};\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = {\n  class: \"input-group\"\n};\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = {\n  class: \"input-group\"\n};\nconst _hoisted_16 = {\n  class: \"form-group mb-4\"\n};\nconst _hoisted_17 = {\n  class: \"d-flex justify-content-center mt-4\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"image-preview mb-3\",\n  style: {\n    \"width\": \"18rem\"\n  }\n};\nconst _hoisted_19 = [\"src\"];\nconst _hoisted_20 = {\n  class: \"form-group mb-4\"\n};\nconst _hoisted_21 = {\n  class: \"d-flex justify-content-center mt-4\"\n};\nconst _hoisted_22 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[29] || (_cache[29] = _createElementVNode(\"h1\", {\n    class: \"page-title\"\n  }, \"เพิ่มห้องใหม่\", -1 /* HOISTED */)), _cache[30] || (_cache[30] = _createElementVNode(\"p\", {\n    class: \"page-description\"\n  }, \"กรุณากรอกข้อมูลห้องให้ครบถ้วน\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers($event => $options.handleSubmit(), [\"prevent\"]))\n  }, [_createCommentVNode(\" เลขห้อง \"), _createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"roomId\"\n  }, \"เลขห้อง:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.roomId = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.roomId]])]), _createCommentVNode(\" ชั้น \"), _createElementVNode(\"div\", _hoisted_4, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"floor\",\n    class: \"form-label\"\n  }, \"ชั้น\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_cache[12] || (_cache[12] = _createElementVNode(\"span\", {\n    class: \"input-group-text\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-building\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.floor = $event),\n    required: \"\"\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"เลือกชั้น\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"1\"\n  }, \"1 ชั้น\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"2\"\n  }, \"2 ชั้น\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"3\"\n  }, \"3 ชั้น\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.floor]])])]), _createCommentVNode(\" ชื่อห้อง \"), _createElementVNode(\"div\", _hoisted_6, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"roomName\",\n    class: \"form-label\"\n  }, \"ชื่อห้อง\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_cache[15] || (_cache[15] = _createElementVNode(\"span\", {\n    class: \"input-group-text\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-house-door\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.roomName = $event),\n    required: \"\"\n  }, _cache[14] || (_cache[14] = [_createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"เลือกชื่อห้อง\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Standard Room\"\n  }, \"Standard Room\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Luxury Room\"\n  }, \"Luxury Room\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Suite Room\"\n  }, \"Suite Room\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.roomName]])])]), _createCommentVNode(\" สถานะห้อง \"), _createElementVNode(\"div\", _hoisted_8, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    for: \"roomStatus\",\n    class: \"form-label\"\n  }, \"สถานะห้อง\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [_cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n    class: \"input-group-text\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-lightbulb\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.roomStatus = $event),\n    required: \"\"\n  }, _cache[17] || (_cache[17] = [_createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"เลือกสถานะห้อง\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Free\"\n  }, \"Free\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Full\"\n  }, \"Full\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.roomStatus]])])]), _createCommentVNode(\" ขนาดห้อง (จำนวนคน) \"), _createElementVNode(\"div\", _hoisted_10, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    for: \"roomSize\",\n    class: \"form-label\"\n  }, \"ขนาดห้อง (จำนวนคน)\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_11, [_cache[21] || (_cache[21] = _createElementVNode(\"span\", {\n    class: \"input-group-text\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-people\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.roomSize = $event),\n    required: \"\"\n  }, _cache[20] || (_cache[20] = [_createStaticVNode(\"<option disabled value=\\\"\\\" data-v-5176791c>เลือกขนาดห้อง</option><option value=\\\"1\\\" data-v-5176791c>1 คน</option><option value=\\\"2\\\" data-v-5176791c>2 คน</option><option value=\\\"3\\\" data-v-5176791c>3 คน</option><option value=\\\"4\\\" data-v-5176791c>4 คน</option>\", 5)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.roomSize]])])]), _createCommentVNode(\" รายละเอียดห้อง \"), _createElementVNode(\"div\", _hoisted_12, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n    for: \"roomDetail\",\n    class: \"form-label\"\n  }, \"รายละเอียดห้อง\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_13, [_cache[23] || (_cache[23] = _createElementVNode(\"span\", {\n    class: \"input-group-text\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-info-circle\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"roomDetail\",\n    rows: \"3\",\n    placeholder: \"เพิ่มรายละเอียดห้อง เช่น สิ่งอำนวยความสะดวก\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.roomDetail = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.roomDetail]])])]), _createCommentVNode(\" ราคาห้อง \"), _createElementVNode(\"div\", _hoisted_14, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n    for: \"roomPrice\",\n    class: \"form-label\"\n  }, \"ราคาห้อง\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.roomPrice = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.roomPrice]])])]), _createCommentVNode(\" <label for=\\\"roomPicture\\\">รูปภาพห้อง:</label> \"), _createCommentVNode(\" <div class=\\\"card mt-5\\\" style=\\\"width: 18rem\\\" v-if=\\\"imageExists\\\">\\r\\n          <img :src=\\\"`http://localhost:3000/img_room/${roomName}.jpg?timestamp=${imageTimestamp}`\\\" :alt=\\\"roomName\\\" />\\r\\n        </div> \"), _createCommentVNode(\" <div class=\\\"card mt-5\\\" style=\\\"width: 18rem\\\" v-if=\\\"imageExists\\\">\\r\\n          <img :src=\\\"imageSrc\\\" alt=\\\"Uploaded Image\\\" />\\r\\n        </div> \"), _createCommentVNode(\" รูปภาพห้อง \"), _createElementVNode(\"div\", _hoisted_16, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n    for: \"roomPicture\",\n    class: \"form-label\"\n  }, \"รูปภาพห้อง\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_17, [$data.imageSrc ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"img\", {\n    src: $data.imageSrc,\n    alt: \"Preview\",\n    class: \"preview-image\"\n  }, null, 8 /* PROPS */, _hoisted_19)])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" <div class=\\\"card mt-5\\\" style=\\\"width: 18rem\\\" v-else>\\r\\n          <img :src=\\\"`http://localhost:3000/img_room/default.jpg`\\\" :alt=\\\"roomName\\\" />\\r\\n        </div> \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.uploadFile && $options.uploadFile(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"input\", {\n    type: \"file\",\n    class: \"form-control\",\n    id: \"roomPicture\",\n    onChange: _cache[7] || (_cache[7] = (...args) => $options.onFileChange && $options.onFileChange(...args)),\n    required: \"\"\n  }, null, 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", _hoisted_21, [_cache[28] || (_cache[28] = _createElementVNode(\"button\", {\n    class: \"btn btn-xs btn-up\",\n    type: \"submit\"\n  }, \" Upload \", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"btn btn-xs btn-sub\",\n    type: \"submit\",\n    disabled: !$data.buttonDisable\n  }, \" บันทึก \", 8 /* PROPS */, _hoisted_22), _createVNode(_component_router_link, {\n    to: \"/AdminHome\",\n    style: {\n      \"text-decoration\": \"none\"\n    }\n  }, {\n    default: _withCtx(() => _cache[27] || (_cache[27] = [_createElementVNode(\"button\", {\n      class: \"btn btn-xs btn-menu\"\n    }, \"Menu\", -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  })])], 32 /* NEED_HYDRATION */)]), _createCommentVNode(\" ปุ่มอัพโหลดและบันทึก \"), _createCommentVNode(\" <div class=\\\"d-flex justify-content-center mt-4\\\">\\r\\n          <button class=\\\"btn btn-xs btn-primary\\\" type=\\\"submit\\\" :disabled=\\\"!buttonDisable\\\">บันทึก</button>\\r\\n        </div> \")], 32 /* NEED_HYDRATION */), _createCommentVNode(\" <p v-if=\\\"backendMessage == 'success'\\\" class=\\\"alert alert-success mt-3\\\">\\r\\n        ลงทะเบียนสำเร็จ-{{ backendMessage }}</p>\\r\\n      <p v-else-if=\\\"backendMessage == 'fail'\\\" class=\\\"alert alert-danger mt-3\\\">\\r\\n        ลงทะเบียนผิดพลาด-{{ backendMessage }}</p> \")])]);\n}","map":{"version":3,"names":["class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","$event","$options","handleSubmit","_createCommentVNode","_hoisted_3","for","type","required","$data","roomId","_hoisted_4","_hoisted_5","floor","disabled","value","_hoisted_6","_hoisted_7","roomName","_hoisted_8","_hoisted_9","roomStatus","_hoisted_10","_hoisted_11","roomSize","_createStaticVNode","_hoisted_12","_hoisted_13","id","rows","placeholder","_ctx","roomDetail","_hoisted_14","_hoisted_15","roomPrice","_hoisted_16","_hoisted_17","imageSrc","_hoisted_18","src","alt","_hoisted_19","_hoisted_20","args","uploadFile","onChange","onFileChange","_hoisted_21","buttonDisable","_hoisted_22","_createVNode","_component_router_link","to","default","_withCtx","_"],"sources":["D:\\Room-Reservation\\Web-Service\\frontend\\src\\components\\AddRoom.vue"],"sourcesContent":["<template>\r\n  <div class=\"add-room-page\">\r\n    <div class=\"card add-room-form\">\r\n      <h1 class=\"page-title\">เพิ่มห้องใหม่</h1>\r\n      <p class=\"page-description\">กรุณากรอกข้อมูลห้องให้ครบถ้วน</p>\r\n      <form @submit.prevent=\"handleSubmit()\">\r\n        <!-- เลขห้อง -->\r\n        <div class=\"form-group\">\r\n          <label for=\"roomId\">เลขห้อง:</label>\r\n        <input type=\"text\" required v-model=\"roomId\" />\r\n        </div>\r\n\r\n        <!-- ชั้น -->\r\n        <div class=\"form-group\">\r\n          <label for=\"floor\" class=\"form-label\">ชั้น</label>\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\"><i class=\"bi bi-building\"></i></span>\r\n            <select type=\"text\"  class=\"form-control\" v-model=\"floor\" required>\r\n              <option disabled value=\"\">เลือกชั้น</option>\r\n              <option value=\"1\">1 ชั้น</option>\r\n              <option value=\"2\">2 ชั้น</option>\r\n              <option value=\"3\">3 ชั้น</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ชื่อห้อง -->\r\n        <div class=\"form-group\">\r\n          <label for=\"roomName\" class=\"form-label\">ชื่อห้อง</label>\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\"><i class=\"bi bi-house-door\"></i></span>\r\n            <select type=\"text\"  class=\"form-control\" v-model=\"roomName\" required>\r\n              <option disabled value=\"\">เลือกชื่อห้อง</option>\r\n              <option value=\"Standard Room\">Standard Room</option>\r\n              <option value=\"Luxury Room\">Luxury Room</option>\r\n              <option value=\"Suite Room\">Suite Room</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- สถานะห้อง -->\r\n        <div class=\"form-group\">\r\n          <label for=\"roomStatus\" class=\"form-label\">สถานะห้อง</label>\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\"><i class=\"bi bi-lightbulb\"></i></span>\r\n            <select type=\"text\"  class=\"form-control\" v-model=\"roomStatus\" required>\r\n              <option disabled value=\"\">เลือกสถานะห้อง</option>\r\n              <option value=\"Free\">Free</option>\r\n              <option value=\"Full\">Full</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ขนาดห้อง (จำนวนคน) -->\r\n        <div class=\"form-group\">\r\n          <label for=\"roomSize\" class=\"form-label\">ขนาดห้อง (จำนวนคน)</label>\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\"><i class=\"bi bi-people\"></i></span>\r\n            <select type=\"text\"  class=\"form-control\" v-model=\"roomSize\" required>\r\n              <option disabled value=\"\">เลือกขนาดห้อง</option>\r\n              <option value=\"1\">1 คน</option>\r\n              <option value=\"2\">2 คน</option>\r\n              <option value=\"3\">3 คน</option>\r\n              <option value=\"4\">4 คน</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- รายละเอียดห้อง -->\r\n        <div class=\"form-group\">\r\n          <label for=\"roomDetail\" class=\"form-label\">รายละเอียดห้อง</label>\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\"><i class=\"bi bi-info-circle\"></i></span>\r\n            <textarea\r\n              type=\"text\" \r\n              class=\"form-control\"\r\n              id=\"roomDetail\"\r\n              rows=\"3\"\r\n              placeholder=\"เพิ่มรายละเอียดห้อง เช่น สิ่งอำนวยความสะดวก\"\r\n              v-model=\"roomDetail\"\r\n              required\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ราคาห้อง -->\r\n        <div class=\"form-group\">\r\n          <label for=\"roomPrice\" class=\"form-label\">ราคาห้อง</label>\r\n          <div class=\"input-group\">\r\n            \r\n        <input type=\"text\" required v-model=\"roomPrice\" />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <label for=\"roomPicture\">รูปภาพห้อง:</label> -->\r\n        <!-- <div class=\"card mt-5\" style=\"width: 18rem\" v-if=\"imageExists\">\r\n          <img :src=\"`http://localhost:3000/img_room/${roomName}.jpg?timestamp=${imageTimestamp}`\" :alt=\"roomName\" />\r\n        </div> -->\r\n        <!-- <div class=\"card mt-5\" style=\"width: 18rem\" v-if=\"imageExists\">\r\n          <img :src=\"imageSrc\" alt=\"Uploaded Image\" />\r\n        </div> -->\r\n        <!-- รูปภาพห้อง -->\r\n        <div class=\"form-group mb-4\">\r\n          <label for=\"roomPicture\" class=\"form-label\">รูปภาพห้อง</label>\r\n          <div class=\"d-flex justify-content-center mt-4\">\r\n            <div v-if=\"imageSrc\" class=\"image-preview mb-3\" style=\"width: 18rem\">\r\n            <img :src=\"imageSrc\" alt=\"Preview\" class=\"preview-image\" />\r\n          </div>\r\n          </div>\r\n          \r\n        </div>\r\n        \r\n        \r\n        <!-- <div class=\"card mt-5\" style=\"width: 18rem\" v-else>\r\n          <img :src=\"`http://localhost:3000/img_room/default.jpg`\" :alt=\"roomName\" />\r\n        </div> -->\r\n        <div class=\"form-group mb-4\">\r\n          <form @submit.prevent=\"uploadFile\">\r\n            <input type=\"file\" class=\"form-control\"  id=\"roomPicture\" @change=\"onFileChange\" required />\r\n            <div class=\"d-flex justify-content-center mt-4\">\r\n\r\n              <button class=\"btn btn-xs btn-up\" type=\"submit\">\r\n                Upload\r\n              </button>\r\n\r\n              <button class=\"btn btn-xs btn-sub\" type=\"submit\" :disabled=\"!buttonDisable\">\r\n                บันทึก\r\n              </button>\r\n              \r\n              <router-link to=\"/AdminHome\" style=\"text-decoration: none\">\r\n                <button class=\"btn btn-xs btn-menu\">Menu</button>\r\n              </router-link>\r\n\r\n            </div>\r\n          </form>\r\n        </div>\r\n          \r\n        \r\n        <!-- ปุ่มอัพโหลดและบันทึก -->\r\n        <!-- <div class=\"d-flex justify-content-center mt-4\">\r\n          <button class=\"btn btn-xs btn-primary\" type=\"submit\" :disabled=\"!buttonDisable\">บันทึก</button>\r\n        </div> -->\r\n      </form>\r\n      <!-- <p v-if=\"backendMessage == 'success'\" class=\"alert alert-success mt-3\">\r\n        ลงทะเบียนสำเร็จ-{{ backendMessage }}</p>\r\n      <p v-else-if=\"backendMessage == 'fail'\" class=\"alert alert-danger mt-3\">\r\n        ลงทะเบียนผิดพลาด-{{ backendMessage }}</p> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\naxios.defaults.withCredentials = true;\r\nexport default {\r\n  name: \"AddRoom\",\r\n  data() {\r\n    return {\r\n      roomId: null,\r\n      floor: null,\r\n      roomName: null,\r\n      roomSize: null,\r\n      roomDetailn: null,\r\n      roomPrice: null,\r\n      roomStatus: null,\r\n      backendMessage: null,// ข้อมูลห้องที่จะทำการแก้ไข\r\n      imageExists: false,\r\n      fileMessage: null,\r\n      file: null,\r\n      imageTimestamp: Date.now(), // ใช้เป็น query parameter\r\n      imageSrc: null,\r\n      buttonDisable: false\r\n    };\r\n  }, async mounted() {\r\n    this.checkImage();\r\n  },\r\n  methods: {\r\n    onFileChange(e) {\r\n      this.file = e.target.files[0];\r\n    },\r\n    // ทำการ Uploadfile เมื่อถูกSubmit\r\n    async uploadFile() {\r\n      const file = this.file;\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      this.imageExists = true;\r\n      this.imageSrc = e.target.result;\r\n  };\r\n  reader.readAsDataURL(file);\r\n  this.buttonDisable = true;\r\n      // if (!this.file) {\r\n      //   this.fileMessage = \"เลือก File ก่อน\";\r\n      //   return;\r\n      // }\r\n      // // อ่านค่าจาก Form เพื่อ POST\r\n      // const formData = new FormData();\r\n      // formData.append(\"file\", this.file);\r\n      // // กำหนด endpoint และกำหนด Header ว่าเป็นการส่ง file\r\n      // try {\r\n      //   const response = await axios.post(\r\n      //     `http://localhost:3000/admin/uploadRoomImage/${this.roomName}`,\r\n      //     formData,\r\n      //     {\r\n      //       headers: {\r\n      //         \"Content-Type\": \"multipart/form-data\",\r\n      //       },\r\n      //     }\r\n      //   );\r\n      //   this.fileMessage = response.data.message;\r\n      //   // ให้ทำการตรวจสอบ image อีกครั้ง\r\n      //   this.checkImage();\r\n      //   this.imageTimestamp = Date.now();\r\n      // } catch (err) {\r\n      //   this.fileMessage = \"fail\";\r\n      // }\r\n    },\r\n    async uploadTrueFile() {\r\n      console.log(this.roomId + \" \" + this.roomName);\r\n      console.log(\"this is uploadTrueFile\");\r\n      if (!this.file) {\r\n        this.fileMessage = \"เลือก File ก่อน\";\r\n        return;\r\n      }\r\n      // อ่านค่าจาก Form เพื่อ POST\r\n      const formData = new FormData();\r\n      formData.append(\"file\", this.file);\r\n      // กำหนด endpoint และกำหนด Header ว่าเป็นการส่ง file\r\n      try {\r\n        const response = await axios.post(\r\n          `http://localhost:3000/admin/uploadRoomImage/${this.roomId}/${this.roomName}`,\r\n          formData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n        this.fileMessage = response.data.message;\r\n        // ให้ทำการตรวจสอบ image อีกครั้ง\r\n        this.checkImage();\r\n        this.imageTimestamp = Date.now();\r\n      } catch (err) {\r\n        this.fileMessage = \"fail\";\r\n      }\r\n    },\r\n    checkImage() {\r\n      // console.log(\"Is Success \" + this.imageExists);\r\n      console.log(this.roomId+this.roomName);\r\n      const image = new Image();\r\n      image.src = `http://localhost:3000/img_room/${this.roomId}_${this.roomName}.jpg`;\r\n      image.onload = () => {\r\n        // console.log(\"Is Success \" + this.imageExists);\r\n        // รูปภาพโหลดสำเร็จ\r\n        this.imageExists = true;\r\n        console.log(\"Is Success \" + this.imageExists);\r\n      };\r\n      \r\n      image.onerror = () => {\r\n        // รูปภาพไม่สามารถโหลดได้\r\n        console.log(\"Is Success \" + this.imageExists);\r\n        this.imageExists = false;\r\n      };\r\n    },\r\n    async handleSubmit() {\r\n      let rooms = {\r\n        roomId: this.roomId,\r\n        floor: this.floor,\r\n        roomName: this.roomName,\r\n        roomStatus:this.roomStatus,\r\n        roomSize: this.roomSize,\r\n        roomDetail: this.roomDetail,\r\n        roomPrice: this.roomPrice,\r\n      };\r\n      try {\r\n        console.log(\"is this room id\" + this.roomId);\r\n        const response = await axios.post(`http://localhost:3000/admin/addRoom`, rooms);\r\n        console.log(this.roomId);\r\n        console.log(this.roomName);\r\n        console.log(this.floor)\r\n        console.log(this.roomSize);\r\n        console.log(this.roomDetail);\r\n        console.log(this.roomPrice);\r\n        console.log(this.roomStatus);\r\n        this.backendMessage = response.data.messageAddRoom;\r\n        if (this.backendMessage == \"success\") {\r\n          this.uploadTrueFile()\r\n          this.$router.push('/ManageRoom')\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.add-room-page {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  border-radius: 100px;\r\n  background: linear-gradient(135deg, #d3cce3, #e9e4f0);\r\n  padding: 40px;\r\n}\r\n\r\n.add-room-form {\r\n  background-color: #ffffff;\r\n  border-radius: 50px;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\r\n  max-width: 1000px;\r\n  padding: 50px;\r\n  width: 100vh;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.add-room-form:hover {\r\n  transform: scale(1.02);\r\n}\r\n\r\n.page-title {\r\n  font-size: 2.5rem;\r\n  color: #6c757d;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.page-description {\r\n  font-size: 1.2rem;\r\n  color: #495057;\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-label {\r\n  font-weight: bold;\r\n  color: #495057;\r\n}\r\n\r\n.input-group-text {\r\n  background-color: #6c757d;\r\n  color: #ffffff;\r\n  border: none;\r\n}\r\n\r\n.input-group .form-control {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n\r\ntextarea.form-control {\r\n  resize: vertical;\r\n}\r\n\r\n.btn {\r\n  font-size: 1.5rem;\r\n  padding: 10px 20px;\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n  margin-left: 35px; /* เพิ่มระยะห่างระหว่างปุ่ม */\r\n}\r\n\r\n.btn-xs {\r\n  font-size: 1.3rem;\r\n  padding: 10px 20px;\r\n  width: auto;\r\n  \r\n}\r\n\r\n.btn-menu{\r\n  background-color: #4486e9;\r\n}\r\n\r\n.btn-menu:hover {\r\n  color: #ddd;\r\n  background: #436fa8;\r\n}\r\n\r\n.btn-sub {\r\n  color: #ffffff9f;\r\n  background-color: #f39843;\r\n  border: none;\r\n}\r\n\r\n.btn-sub:hover {\r\n  color: #ffffff9f;\r\n  background-color: #d1d080;\r\n}\r\n\r\n.btn-up {\r\n  background-color: #16c53c;\r\n  border: none;\r\n}\r\n\r\n.btn-up:hover {\r\n  color: #ffffff9f;\r\n  background-color: #06802f;\r\n}\r\n\r\n.image-preview {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.preview-image {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}